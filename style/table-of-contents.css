/*
TABLE-OF-CONTENTS.CSS - TOC LAYOUT AND SEARCH (FIXED VERSION)
=============================================================

FIXED: This file contains the updated styling for the Table of Contents layout 
with the hover overflow issue resolved. The animation no longer causes the 
recipe entries to exceed their container width.

CHANGES MADE:
- Added `overflow: hidden` to `.table-of-contents-results` container
- Reduced `translateX(5px)` to `translateX(2px)` for more subtle animation
- Added `box-sizing: border-box` to ensure padding is included in width calculations
- Added `max-width: 100%` to prevent any potential width overflow
- Ensured responsive behavior is maintained

The fix ensures that recipe entries stay within their container bounds while
maintaining the visual feedback on hover.
*/

/* =============================================================================
   TABLE OF CONTENTS CONTROLS - Left Page (Search and filters)
   ============================================================================= */

/* TABLE OF CONTENTS CONTROLS - Left page styling */
.table-of-contents-controls {
    height: 100%;
    overflow-y: auto;
}

/* Header for table of contents controls page */
.toc-header {
    text-align: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 3px solid #8B4513;
}

.toc-title {
    font-size: 2em;
    color: #8B4513;
    margin-bottom: 8px;
    font-weight: bold;
}

.toc-subtitle {
    color: #666;
    font-style: italic;
    font-size: 1em;
}

/* =============================================================================
   SEARCH INTERFACE - Search input and help text
   ============================================================================= */

/* Search section styling */
.toc-search-section {
    margin-bottom: 25px;
    padding: 20px;
    background: linear-gradient(135deg, #f9f9f9 0%, #f0f0f0 100%);
    border-radius: 10px;
    border-left: 5px solid #8B4513;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
}

.control-title {
    font-weight: bold;
    color: #8B4513;
    margin-bottom: 10px;
    font-size: 1.1em;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* Search input styling */
.search-input {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #ddd;
    border-radius: 25px;
    font-family: inherit;
    font-size: 1em;
    transition: all 0.3s ease;
    background: #ffffff;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
}

.search-input:focus {
    outline: none;
    border-color: #8B4513;
    box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.1), inset 0 2px 4px rgba(0,0,0,0.1);
}

.search-input::placeholder {
    color: #999;
    font-style: italic;
}

.search-help {
    display: block;
    color: #666;
    font-style: italic;
    margin-top: 8px;
    font-size: 0.9em;
}

/* =============================================================================
   FILTER AND SORT CONTROLS - Tag filtering and sorting options
   ============================================================================= */

/* Table of Contents Controls */
.toc-controls {
    padding: 1rem;
    border-bottom: 1px solid #ccc;
    margin-bottom: 1rem;
}

.control-section {
    margin-bottom: 1rem;
}

.toc-select {
    width: 100%;
    padding: 0.5rem;
    font-size: 1rem;
    border: 2px solid #ddd;
    border-radius: 6px;
    background: #ffffff;
    transition: border-color 0.3s ease;
}

.toc-select:focus {
    outline: none;
    border-color: #8B4513;
}

/* Tag Filter Styling */
.tag-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.tag-filter {
    display: flex;
    align-items: center;
    gap: 0.3rem;
    background-color: #f8f8f8;
    padding: 0.3rem 0.6rem;
    border-radius: 0.5rem;
    border: 1px solid #ccc;
    cursor: pointer;
    transition: background-color 0.2s;
}

.tag-filter:hover {
    background-color: #eee;
}

.filter-btn {
    margin-right: 0.5rem;
    margin-bottom: 0.7rem;
    padding: 0.3rem 0.7rem;
    background-color: #8B4513;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.filter-btn:hover {
    background-color: #A0522D;
}

/* Recipe count display */
.recipe-count {
    text-align: center;
    font-weight: bold;
    color: #8B4513;
    padding: 10px;
    background: linear-gradient(135deg, #f0f0f0 0%, #e8e8e8 100%);
    border-radius: 8px;
    margin-bottom: 15px;
    font-size: 0.9em;
}

/* =============================================================================
   TABLE OF CONTENTS RESULTS - Right Page (Recipe listings) - FIXED VERSION
   ============================================================================= */

/* TABLE OF CONTENTS RESULTS - Right page styling with overflow fix */
.table-of-contents-results {
    height: 100%;
    overflow-y: auto;
    /* FIXED: Added overflow-x hidden to prevent horizontal scrolling caused by hover animations */
    overflow-x: hidden;
}

/* Header for table of contents results page */
.toc-results-header {
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 3px solid #8B4513;
}

.toc-results-title {
    font-size: 1.8em;
    color: #8B4513;
    margin-bottom: 8px;
    font-weight: bold;
}

.toc-results-subtitle {
    color: #666;
    font-style: italic;
    font-size: 0.9em;
}

/* Grid layout for recipe entries in table of contents results */
.toc-recipes {
    display: grid;
    grid-template-columns: 1fr; /* Single column layout */
    gap: 12px;
    /* FIXED: Added padding to provide space for the hover animation */
    padding-right: 5px;
}

/* =============================================================================
   RECIPE ENTRIES - Individual recipe display in TOC - FIXED VERSION
   ============================================================================= */

/* Individual recipe entry in table of contents - FIXED hover behavior */
.toc-recipe {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
    border-radius: 10px;
    border-left: 5px solid #8B4513;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    /* FIXED: Ensure proper box sizing and prevent overflow */
    box-sizing: border-box;
    max-width: 100%;
    /* FIXED: Add small margin to accommodate the transform animation */
    margin-right: 3px;
}

/* FIXED: Reduced translateX from 5px to 2px and ensured container can handle it */
.toc-recipe:hover {
    background: linear-gradient(135deg, #f0f0f0 0%, #e8e8e8 100%);
    /* FIXED: Reduced slide effect to prevent overflow - was translateX(5px) */
    transform: translateX(2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* Small thumbnail image for each recipe in TOC */
.toc-recipe-image {
    width: 60px;
    height: 40px;
    object-fit: cover;
    border-radius: 6px;
    border: 2px solid #ddd;
    flex-shrink: 0;
}

/* Recipe information in table of contents */
.toc-recipe-info {
    flex: 1;
    min-width: 0; /* Prevents flex item from overflowing */
    /* FIXED: Ensure text doesn't cause width expansion */
    overflow: hidden;
}

.toc-recipe-title {
    font-size: 1.1em;
    font-weight: bold;
    color: #8B4513;
    margin-bottom: 5px;
    /* FIXED: Prevent long titles from causing overflow */
    word-wrap: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
}

.toc-recipe-meta {
    color: #666;
    font-size: 0.9em;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    /* FIXED: Prevent meta text from causing overflow */
    overflow: hidden;
}

/* =============================================================================
   NO RESULTS MESSAGE - When no recipes match search/filter
   ============================================================================= */

/* No results message styling */
.no-results-message {
    text-align: center;
    padding: 40px 20px;
    color: #666;
}

.no-results-icon {
    font-size: 3em;
    margin-bottom: 15px;
    opacity: 0.5;
}

.no-results-text {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 8px;
    color: #8B4513;
}

.no-results-suggestion {
    font-style: italic;
    font-size: 0.9em;
}

/* =============================================================================
   MOBILE RESPONSIVE FIXES - Ensure mobile devices don't have overflow issues
   ============================================================================= */

@media (max-width: 768px) {
    /* Table of contents mobile layout - ensure no overflow */
    .toc-recipe {
        flex-direction: column;
        text-align: center;
        /* FIXED: Remove margin on mobile to maximize space usage */
        margin-right: 0;
        /* FIXED: Reduce padding on mobile to prevent overflow */
        padding: 12px;
    }
    
    /* FIXED: No transform on mobile to prevent any overflow issues */
    .toc-recipe:hover {
        transform: none;
        /* Keep the background change but remove the slide animation */
        background: linear-gradient(135deg, #f0f0f0 0%, #e8e8e8 100%);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    .toc-recipe-image {
        width: 80px;
        height: 50px;
    }
    
    .toc-recipe-meta {
        flex-direction: column;
        gap: 5px;
        font-size: 0.8em;
    }
    
    /* FIXED: Ensure containers don't allow horizontal overflow on mobile */
    .table-of-contents-results {
        overflow-x: hidden;
    }
    
    .toc-recipes {
        padding-right: 0; /* Remove right padding on mobile */
    }
}